# Домашка по воркерам

Версия Node — 12.16.2

Для кэширования статики была выбрана стратегия *Network of cache*. Если запрос уже закэширован, то результат берём из кэша, если нет, то выполняем запрос и потом кэшируем его.

Выбор стратегии обусловлен тем, что в нашем случае статика в основном представляет собой иконки и шрифты, которые не будут часто меняться. Поэтому нет особого смысла следить за её актуальностью и постоянно обновлять кэш.

Cервис-воркер находится в директории `/client/public/`


<details>
  <summary>Подробности установки и запуска</summary>
  
## Установка и запуск CI-сервера и клиента

**Сервер:**

Перед запуском необходимо создать файл `.env` в папке `ci-server` и записать там свой токен для авторизации в виде `TOKEN=...` (Bearer писать не нужно)

[Ссылка для получения токена](https://hw.shri.yandex/)
```
cd ci-server && npm i
npm run build
npm run server
```
**Клиент:**
```
cd client && npm i && npm start
```

## Установка и запуск билд-сервера

**Предварительно необходимо записать свой apiToken в _./build-server/server-conf.json_**
```
cd build-server && npm i && npm start
```

## Установка и запуск билд-агента

```
cd build-agent && npm i && npm start
```

Запускать очередной билд-агент можно так-же, через `npm start`. Сервер автоматически подберёт свободный порт.
</details>

